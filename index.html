<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mom's Chaat Masala Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .video-section {
            grid-column: 1 / -1;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .video-placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .video-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="20" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="2"/><polygon points="45,40 45,60 65,50" fill="rgba(255,255,255,0.7)"/></svg>') center/80px no-repeat;
            opacity: 0.3;
        }

        .video-content {
            position: relative;
            z-index: 1;
        }

        .video-title {
            font-size: 1.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .video-description {
            font-size: 1.1em;
            margin-bottom: 20px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .video-placeholder-text {
            background: rgba(255,255,255,0.2);
            padding: 15px 25px;
            border-radius: 25px;
            border: 2px dashed rgba(255,255,255,0.5);
            font-weight: bold;
            display: inline-block;
        }

        .video-embed {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .video-hidden {
            display: none;
        }

        .calculator-section, .nutrition-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
        }

        .section-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 10px;
        }

        .ingredient-item {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .ingredient-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .ingredient-name {
            font-weight: bold;
            color: #333;
            flex-grow: 1;
        }

        .ingredient-amount {
            background: #e3f2fd;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            color: #1976d2;
            font-weight: bold;
        }

        .slider-container {
            margin-top: 10px;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            border: none;
        }

        .nutrition-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .serving-info {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .nutrition-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .nutrition-item:last-child {
            border-bottom: none;
        }

        .nutrition-name {
            font-weight: 500;
            color: #333;
        }

        .nutrition-value {
            font-weight: bold;
            color: #666;
        }

        .dv-percentage {
            background: #e8f5e8;
            color: #2d5a2d;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .high-sodium {
            background: #ffebee;
            color: #c62828;
        }

        .medium-sodium {
            background: #fff3e0;
            color: #ef6c00;
        }

        .warning-banner {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .warning-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .recipe-scale {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .scale-label {
            font-weight: bold;
            margin-bottom: 10px;
            color: #1976d2;
        }

        .benefits-section {
            background: #f1f8e9;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .benefit-item {
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #4caf50;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }

            .video-placeholder {
                min-height: 250px;
                padding: 30px 20px;
            }

            .video-title {
                font-size: 1.5em;
            }

            .video-embed {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üå∂Ô∏è Mom's Chaat Masala Calculator</h1>
            <p class="subtitle">Traditional Recipe with Modern Nutritional Insights</p>
        </div>

        <div class="main-content">
            <!-- Video Section -->
            <div class="video-section">
                <h2 class="section-title">üé• Watch Mom's Traditional Method</h2>
                
                <div class="video-placeholder" id="videoPlaceholder">
                    <div class="video-content">
                        <h3 class="video-title">üë©‚Äçüç≥ "Mom's Authentic Chaat Masala Recipe"</h3>
                        <p class="video-description">
                            Watch the traditional method passed down through generations.<br>
                            Learn the secrets of perfect roasting and grinding techniques.
                        </p>
                        <div class="video-placeholder-text">
                            üìπ YouTube Video Placeholder<br>
                            <small>Click here to add your video URL</small>
                        </div>
                    </div>
                </div>

                <!-- Hidden iframe that will be shown when video URL is added -->
                <iframe 
                    id="videoEmbed" 
                    class="video-embed video-hidden"
                    src="" 
                    title="Mom's Chaat Masala Recipe"
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>

                <div style="margin-top: 15px; text-align: center;">
                    <input 
                        type="text" 
                        id="videoUrl" 
                        placeholder="Paste YouTube video URL here..." 
                        style="width: 70%; padding: 10px; border: 2px solid #ddd; border-radius: 25px; margin-right: 10px;"
                    >
                    <button 
                        onclick="embedVideo()" 
                        style="padding: 10px 20px; background: #ff6b6b; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold;">
                        üì∫ Add Video
                    </button>
                </div>
            </div>

            <div class="calculator-section">
                <h2 class="section-title">üßÆ Recipe Calculator</h2>
                
                <div class="recipe-scale">
                    <div class="scale-label">Recipe Scale Factor</div>
                    <input type="range" id="recipeScale" class="slider" min="0.1" max="5" step="0.1" value="1">
                    <div style="text-align: center; margin-top: 10px; font-weight: bold;">
                        <span id="scaleValue">1.0x</span> (Makes <span id="totalWeight">194g</span>)
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">üå∞ Cumin Seeds (Roasted)</span>
                        <span class="ingredient-amount" id="cumin-amount">100g</span>
                    </div>
                    <div class="slider-container">
                        <small>Base ingredient - other spices scale proportionally</small>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">üßÇ Black Salt (Kala Namak)</span>
                        <span class="ingredient-amount" id="black-salt-amount">25g</span>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">üßÇ White Salt</span>
                        <span class="ingredient-amount" id="white-salt-amount">25g</span>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">‚ö´ Black Pepper</span>
                        <span class="ingredient-amount" id="black-pepper-amount">12.5g</span>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">üåø Garam Masala</span>
                        <span class="ingredient-amount" id="garam-masala-amount">12.5g</span>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">ü•≠ Dried Mango Powder (Amchur)</span>
                        <span class="ingredient-amount" id="amchur-amount">12.5g</span>
                    </div>
                </div>

                <div class="ingredient-item">
                    <div class="ingredient-header">
                        <span class="ingredient-name">üå∂Ô∏è Red Chili Powder</span>
                        <span class="ingredient-amount" id="chili-amount">6.25g</span>
                    </div>
                </div>

                <div class="recipe-scale">
                    <div class="scale-label">Serving Size</div>
                    <input type="range" id="servingSize" class="slider" min="0.5" max="5" step="0.25" value="2">
                    <div style="text-align: center; margin-top: 10px; font-weight: bold;">
                        <span id="servingSizeValue">2.0g</span> (~<span id="servingCount">97</span> servings total)
                    </div>
                </div>
            </div>

            <div class="nutrition-section">
                <h2 class="section-title">üìä Nutritional Information</h2>

                <div class="serving-info">
                    <strong>Per Serving (<span id="currentServing">2.0g</span>)</strong>
                </div>

                <div id="sodiumWarning" class="warning-banner" style="display: none;">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <div>
                        <strong>High Sodium Alert!</strong><br>
                        This serving contains significant sodium. Use sparingly if monitoring sodium intake.
                    </div>
                </div>

                <div class="nutrition-panel">
                    <div class="nutrition-item">
                        <span class="nutrition-name">Calories</span>
                        <span class="nutrition-value" id="calories">8.2 kcal</span>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Total Fat</span>
                        <div>
                            <span class="nutrition-value" id="fat">0.5g</span>
                            <span class="dv-percentage" id="fatDV">1%</span>
                        </div>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Sodium</span>
                        <div>
                            <span class="nutrition-value" id="sodium">388mg</span>
                            <span class="dv-percentage" id="sodiumDV">17%</span>
                        </div>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Total Carbohydrates</span>
                        <div>
                            <span class="nutrition-value" id="carbs">1.0g</span>
                            <span class="dv-percentage" id="carbsDV">0%</span>
                        </div>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Dietary Fiber</span>
                        <div>
                            <span class="nutrition-value" id="fiber">0.3g</span>
                            <span class="dv-percentage" id="fiberDV">1%</span>
                        </div>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Protein</span>
                        <div>
                            <span class="nutrition-value" id="protein">0.4g</span>
                            <span class="dv-percentage" id="proteinDV">1%</span>
                        </div>
                    </div>
                    
                    <div class="nutrition-item">
                        <span class="nutrition-name">Iron</span>
                        <div>
                            <span class="nutrition-value" id="iron">1.4mg</span>
                            <span class="dv-percentage" id="ironDV">8%</span>
                        </div>
                    </div>
                </div>

                <div class="benefits-section">
                    <h3 style="margin-bottom: 15px; color: #4caf50;">üåü Health Benefits</h3>
                    <div class="benefit-item">
                        <strong>Digestive Aid:</strong> Cumin and black salt help with digestion
                    </div>
                    <div class="benefit-item">
                        <strong>Antioxidants:</strong> Black pepper and chili powder provide antioxidants
                    </div>
                    <div class="benefit-item">
                        <strong>Iron Source:</strong> Cumin seeds are rich in iron
                    </div>
                    <div class="benefit-item">
                        <strong>Vitamin C:</strong> Amchur provides natural vitamin C
                    </div>
                    <div class="benefit-item">
                        <strong>Metabolism Boost:</strong> Spices can help boost metabolism
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Nutritional data per 100g for each ingredient
        const nutritionData = {
            cumin: {
                calories: 375, protein: 17.8, fat: 22.3, carbs: 44.2, 
                fiber: 10.5, sodium: 168, iron: 66.4
            },
            blackSalt: {
                calories: 0, protein: 0, fat: 0, carbs: 0, 
                fiber: 0, sodium: 38800, iron: 26.7
            },
            whiteSalt: {
                calories: 0, protein: 0, fat: 0, carbs: 0, 
                fiber: 0, sodium: 38758, iron: 0.33
            },
            blackPepper: {
                calories: 251, protein: 10.4, fat: 3.3, carbs: 64, 
                fiber: 25.3, sodium: 20, iron: 9.7
            },
            garamMasala: {
                calories: 350, protein: 15, fat: 14, carbs: 50, 
                fiber: 20, sodium: 50, iron: 15
            },
            amchur: {
                calories: 300, protein: 3, fat: 1, carbs: 75, 
                fiber: 12, sodium: 5, iron: 2.5
            },
            chili: {
                calories: 282, protein: 14.1, fat: 12.9, carbs: 49.5, 
                fiber: 34.9, sodium: 30, iron: 17.3
            }
        };

        // Base recipe quantities (in grams)
        const baseRecipe = {
            cumin: 100,
            blackSalt: 25,
            whiteSalt: 25,
            blackPepper: 12.5,
            garamMasala: 12.5,
            amchur: 12.5,
            chili: 6.25
        };

        // Daily Values (based on 2000 calorie diet)
        const dailyValues = {
            calories: 2000,
            fat: 78,
            sodium: 2300,
            carbs: 275,
            fiber: 28,
            protein: 50,
            iron: 18
        };

        function updateRecipe() {
            const scale = document.getElementById('recipeScale').value;
            const servingSize = document.getElementById('servingSize').value;

            // Update scale display
            document.getElementById('scaleValue').textContent = parseFloat(scale).toFixed(1) + 'x';
            
            // Update ingredient amounts
            Object.keys(baseRecipe).forEach(ingredient => {
                const amount = (baseRecipe[ingredient] * scale).toFixed(1);
                const elementId = ingredient === 'blackSalt' ? 'black-salt-amount' :
                                ingredient === 'whiteSalt' ? 'white-salt-amount' :
                                ingredient === 'blackPepper' ? 'black-pepper-amount' :
                                ingredient === 'garamMasala' ? 'garam-masala-amount' :
                                ingredient === 'amchur' ? 'amchur-amount' :
                                ingredient === 'chili' ? 'chili-amount' :
                                ingredient + '-amount';
                document.getElementById(elementId).textContent = amount + 'g';
            });

            // Calculate total weight
            const totalWeight = Object.values(baseRecipe).reduce((sum, amount) => sum + amount, 0) * scale;
            document.getElementById('totalWeight').textContent = totalWeight.toFixed(0) + 'g';

            // Update serving info
            document.getElementById('servingSizeValue').textContent = parseFloat(servingSize).toFixed(1) + 'g';
            document.getElementById('currentServing').textContent = parseFloat(servingSize).toFixed(1) + 'g';
            document.getElementById('servingCount').textContent = Math.round(totalWeight / servingSize);

            // Calculate nutrition per serving
            calculateNutrition(scale, servingSize);
        }

        function calculateNutrition(scale, servingSize) {
            let totalNutrition = {
                calories: 0, protein: 0, fat: 0, carbs: 0,
                fiber: 0, sodium: 0, iron: 0
            };

            // Calculate total nutrition for the entire batch
            Object.keys(baseRecipe).forEach(ingredient => {
                const amount = baseRecipe[ingredient] * scale; // in grams
                const data = nutritionData[ingredient];
                
                Object.keys(totalNutrition).forEach(nutrient => {
                    totalNutrition[nutrient] += (data[nutrient] * amount) / 100;
                });
            });

            // Calculate nutrition per serving
            const totalWeight = Object.values(baseRecipe).reduce((sum, amount) => sum + amount, 0) * scale;
            const servingRatio = servingSize / totalWeight;

            const perServing = {};
            Object.keys(totalNutrition).forEach(nutrient => {
                perServing[nutrient] = totalNutrition[nutrient] * servingRatio;
            });

            // Update display
            document.getElementById('calories').textContent = perServing.calories.toFixed(1) + ' kcal';
            document.getElementById('fat').textContent = perServing.fat.toFixed(1) + 'g';
            document.getElementById('sodium').textContent = perServing.sodium.toFixed(0) + 'mg';
            document.getElementById('carbs').textContent = perServing.carbs.toFixed(1) + 'g';
            document.getElementById('fiber').textContent = perServing.fiber.toFixed(1) + 'g';
            document.getElementById('protein').textContent = perServing.protein.toFixed(1) + 'g';
            document.getElementById('iron').textContent = perServing.iron.toFixed(1) + 'mg';

            // Calculate and display Daily Values percentages
            const fatDV = Math.round((perServing.fat / dailyValues.fat) * 100);
            const sodiumDV = Math.round((perServing.sodium / dailyValues.sodium) * 100);
            const carbsDV = Math.round((perServing.carbs / dailyValues.carbs) * 100);
            const fiberDV = Math.round((perServing.fiber / dailyValues.fiber) * 100);
            const proteinDV = Math.round((perServing.protein / dailyValues.protein) * 100);
            const ironDV = Math.round((perServing.iron / dailyValues.iron) * 100);

            document.getElementById('fatDV').textContent = fatDV + '%';
            document.getElementById('sodiumDV').textContent = sodiumDV + '%';
            document.getElementById('carbsDV').textContent = carbsDV + '%';
            document.getElementById('fiberDV').textContent = fiberDV + '%';
            document.getElementById('proteinDV').textContent = proteinDV + '%';
            document.getElementById('ironDV').textContent = ironDV + '%';

            // Update sodium warning and DV styling
            const sodiumWarning = document.getElementById('sodiumWarning');
            const sodiumDVElement = document.getElementById('sodiumDV');
            
            if (sodiumDV >= 20) {
                sodiumWarning.style.display = 'flex';
                sodiumDVElement.className = 'dv-percentage high-sodium';
            } else if (sodiumDV >= 10) {
                sodiumWarning.style.display = 'none';
                sodiumDVElement.className = 'dv-percentage medium-sodium';
            } else {
                sodiumWarning.style.display = 'none';
                sodiumDVElement.className = 'dv-percentage';
            }
        }

        // Video embedding functionality
        function embedVideo() {
            const urlInput = document.getElementById('videoUrl');
            const videoUrl = urlInput.value.trim();
            
            if (!videoUrl) {
                alert('Please enter a YouTube video URL');
                return;
            }

            // Convert YouTube URL to embed format
            let embedUrl = '';
            try {
                if (videoUrl.includes('youtube.com/watch?v=')) {
                    const videoId = videoUrl.split('v=')[1].split('&')[0];
                    embedUrl = `https://www.youtube.com/embed/${videoId}`;
                } else if (videoUrl.includes('youtu.be/')) {
                    const videoId = videoUrl.split('youtu.be/')[1].split('?')[0];
                    embedUrl = `https://www.youtube.com/embed/${videoId}`;
                } else if (videoUrl.includes('youtube.com/embed/')) {
                    embedUrl = videoUrl; // Already in embed format
                } else {
                    alert('Please enter a valid YouTube URL');
                    return;
                }

                // Hide placeholder and show video
                document.getElementById('videoPlaceholder').style.display = 'none';
                const videoEmbed = document.getElementById('videoEmbed');
                videoEmbed.src = embedUrl;
                videoEmbed.classList.remove('video-hidden');
                
                // Clear the input
                urlInput.value = '';
                
                // Update button to allow changing video
                const button = urlInput.nextElementSibling;
                button.innerHTML = 'üîÑ Change Video';
                button.onclick = function() {
                    document.getElementById('videoPlaceholder').style.display = 'flex';
                    videoEmbed.classList.add('video-hidden');
                    videoEmbed.src = '';
                    button.innerHTML = 'üì∫ Add Video';
                    button.onclick = embedVideo;
                };

            } catch (error) {
                alert('Error processing video URL. Please check the URL and try again.');
            }
        }

        // Allow Enter key to add video
        document.getElementById('videoUrl').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                embedVideo();
            }
        });

        // Event listeners
        document.getElementById('recipeScale').addEventListener('input', updateRecipe);
        document.getElementById('servingSize').addEventListener('input', updateRecipe);

        // Initialize
        updateRecipe();
    </script>
</body>
</html>
